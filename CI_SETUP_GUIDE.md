# Signals Monorepo CI/CD Setup Guide

This guide will help you set up a reliable, incremental CI/CD pipeline for your Nx monorepo using GitHub Actions. It includes required secrets, step-by-step workflow improvements, and deployment advice.

---

## 1. Required GitHub Secrets

### For Nx CI (build/test only):
- No secrets required for basic Nx build/test.

### For Google Cloud Deployments (when ready):
- `GCP_PROJECT_ID` — Your Google Cloud project ID
- `WIF_PROVIDER` — Workload Identity Federation provider resource name
- `WIF_SERVICE_ACCOUNT` — Service account email for GitHub Actions
- (Optional) `NX_CLOUD_ACCESS_TOKEN` — If using Nx Cloud for distributed caching

---

## 2. Stage 1: Basic Nx CI Workflow

- Checks out code
- Installs dependencies
- Runs Nx build and test

---

## 3. Stage 2: Lint, Audit, and Secret Scanning

- Add linting, security audit, and secret scanning jobs

---

## 4. Stage 3: Docker Build (Optional, for container deploys)

- Add Docker build steps for each app when you are ready to deploy as containers

---

## 5. Stage 4: Google Cloud Deploy (Optional)

- Add deploy steps using Google Cloud Actions and OIDC authentication

---

## 6. Troubleshooting

- Ensure `pnpm-lock.yaml` is committed
- Ensure all required secrets are set in GitHub
- Check Actions tab for logs and errors

---

## 7. Next Steps

- Start with Stage 1 and only proceed when each stage is green
- Ask for help with specific errors or deployment targets

---

*Generated by GitHub Copilot*
